<!DOCTYPE html>
<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <title>LancerForm</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="style.css" rel="stylesheet">
        <link rel="icon" href="assets/LancerFavicon-512x512.webp" sizes="192x192">
        <link href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" rel="stylesheet"/>
    </head>
    <body class="bg-light" onload="getData()">
      <div class="container">
        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <form onsubmit="addDataOnLocalStorage()" id="form" class="form" >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Nueva entrada</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                
                  
                      <div class="mb-3">
                        <label for="name">Nombre</label>
                        <input id="name" class="form-control"  type="text" placeholder="Jonh" required>
                      </div>
                        <div class="mb-3">
                        <label for="lastName">Apellido</label>
                        <input id="lastName" class="form-control" type="text" placeholder="doe" required>
                      </div>
           
                      <div class="mb-3"> 
                      <label id="lemail" for="email">Email</br></label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="jonhdoe@mail.com" required>
                      </div> 
                        <div class="mb-3">
                        <label for="Tel">Telefono</label>
                        <input id="telefono" class="form-control" type="Tel" placeholder="8090000000" pattern="[0-9]{3}[0-9]{3}[0-9]{4}">
                      </div>

                
                
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="resetTableValues()">Cerrar</button>
                <button type="submit" id="submit" class="btn btn-primary">Listo</button>
              </div>
            </div>
          </div>
        </form>
        </div>
        <!-- end Modal -->
        
        <main>
          <div class="py-5 text-center">
            <img class="d-block mx-auto mb-4" src="assets/lancerLogoAzul.png" alt="" width="500" height="150">
            <h2>Listado de Lanceros</h2>
            <p class="lead">Aqui enlistaremos la gente bacana de lancer</p>
            <button type="button" class="btn btn-secondary btn-lg" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
              Agregar
            </button>
          </div>
          
          <div class="table-responsive">
            <table class="table" id="tabla">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Apellido</th>
                  <th scope="col">Email</th>
                  <th scope="col">Telefono</th>
                  <th scope="col">Acciones</th>
                </tr>
              </thead>
              <tbody id="lista">
                
            
              </tbody>
            </table>
          </div>

        </main>

      </div>

    </body>
    <script type="text/javascript" src="jScript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js" ></script>


    <script>
      $(function() {
        // Tendre que hacer el load de la data de localStorage aqui porque datatable funciona jquery y este tiene que estar en la pagina principal
        var data= JSON.parse(localStorage.getItem("localData"));
        
        //le digo a dataTable en que celda va cada informacion
        var columna = [
          {data: "id"},
          {data: "name"},
          {data: "lastName"},
          {data: "email"},
          {data: "tel"},
          {
            render: function(data, type, row) {
              return '<button onclick="deleteRow(this)" class="btn btn-danger">Eliminar</button> <button onclick="editRowValues(this)" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Modificar</button>'
            }
          }
        ];
          //Iniciar la libreria y darle la data

          $("#tabla").DataTable({
            data: data,
            columns: columna
          })

      })

     
    </script>
</html>


